@model AFG_New_passport_Website.Models.ViewModel
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer

@{
	Layout = null;
}

<!-- jQuery و jQuery UI -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>

<!-- Bootstrap و Font Awesome -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://fonts.googleapis.com/css2?family=Vazir&display=swap" rel="stylesheet" />


<link href="~/css/registration/CraetePageStyles.css" rel="stylesheet" />
<style>
	.custom-border {
		border: 1px solid #ccc;
	}
</style>
<style>
	#ProfileCover {
		width: 180px;
		height: 216px;
		display: block;
		border: 1px solid #ccc;
		padding-top: 1px;
		object-fit: cover;
	}

	#photoPreview {
		width: 180px;
		height: 220px;
		display: none;
	}

	#photo{
		width: 180px;
	}
</style>
<body class="light dark">
	<div class="container mt-5 ">
		<div class="card shadow-lg" style="background-color: #3e8e7e;">
			<br />
			<h3 class="mb-4 text-white  text-center">مشاهده اطلاعات ثبت نام</h3>
			<div class="card-body bg-light rounded">
				<form asp-action="Create" id="FormEdit" method="post" enctype="multipart/form-data">

					<section>
						<div class="row gx-0 ">
							<!-------------------------- Upload Picture----------------------------->
							<div class="col-md-2 mb-3">
								<div id="ProfileCover">
									<img id="photoPreview" src="#" alt="پیش‌نمایش عکس" style="display:none; width: 150px; height: 150px; object-fit: cover;" />
								</div>

							</div>
							<div class="col-sm-12 col-md-10 ">

								<div class="row pb-3 ">
									<div class="col-sm-12 col-md-3 text-center   p-2 custom-border ">
										<span class="fw-bold fs-6">نام :</span>  <span class="fs-6">@Model.DName | @Model.EName</span>
										<input type="hidden" asp-for="DName" /><input type="hidden" asp-for="EName" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">تخلص :</span>  <span class="fs-6">@Model.DLastName | @Model.ELastName</span>
										<input type="hidden" asp-for="DLastName" /><input type="hidden" asp-for="ELastName" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">نام پدر :</span> <span class="fs-6">@Model.DFatherName | @Model.EFatherName</span>
										<input type="hidden" asp-for="DFatherName" /><input type="hidden" asp-for="EFatherName" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">نام پدرکلان :</span> <span class="fs-6">@Model.DGrandFatherName | @Model.EGrandFatherName</span>
										<input type="hidden" asp-for="DGrandFatherName" /><input type="hidden" asp-for="EGrandFatherName" />
									</div>
								</div>


								<div class="row pb-3">
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">محل تولد  :</span> <span class="fs-6">@Model.BirthCityNameLocal</span>
										<input type="hidden" asp-for="SelectedBirthCityId" /><input type="hidden" asp-for="BirthCityNameLocal" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">تاریخ تولد :</span>  <span class="fs-6">@Model.DateOfBirth.ToString("yyyy/MM/dd")</span>
										<input type="hidden" asp-for="DateOfBirth" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6"> نوع سند هویت :</span> <span class="fs-6">@Model.Name </span>
										<input type="hidden" asp-for="IdentityDocumentTypeId" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2 ml-3">
										<span class="fw-bold fs-6">نمبر سند هویتی  :</span> <span class="fs-6">@Model.NIDNumber</span>
										<input type="hidden" asp-for="NIDNumber" />
									</div>
								</div>

								<div class="row pb-3">
									<div class="col-sm-12 col-md-4 text-center custom-border p-2">
										<span class="fw-bold fs-6">جنسیت  :</span> <span class="fs-6">@Model.GenderDName  @Model.GenderEName</span>
										<input type="hidden" asp-for="GenderId" /><input type="hidden" asp-for="Gender" />
									</div>
									<div class="col-sm-12 col-md-4 text-center custom-border  p-2">
										<span class="fw-bold fs-6"> شغل :</span>  <span class="fs-6">@Model.ProfessionNameLocal</span>
										<input type="hidden" asp-for="ProfessionId" />
									</div>
									<div class="col-sm-12 col-md-4 text-center custom-border p-2">
										<span class="fw-bold fs-6"> قد :</span> <span class="fs-6">@Model.Height سانتی متر</span>
										<input type="hidden" asp-for="Height" />
									</div>
								</div>

								<div class="row pb-2">
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">نوع پاسپورت  :</span> <span class="fs-6">@Model.PassportType.Type </span>
										<input type="hidden" asp-for="SelectedPassportTypeId" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
										<span class="fw-bold fs-6">مدت پاسپورت  :</span> <span class="fs-6">@Model.PassportDuration.Name </span>
										<input type="hidden" asp-for="SelectedPassportDurationId" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">نوع پرداخت  :</span> <span class="fs-6">@Model.PaymentType.Type </span>
										<input type="hidden" asp-for="SelectedPaymentTypeId" />
									</div>
									<div class="col-sm-12 col-md-3 text-center custom-border p-2">
										<span class="fw-bold fs-6">نوع نوبت  :</span> <span class="fs-6">@Model.AppoinmentType?.Type </span>
										<input type="hidden" asp-for="SelectedAppoinmentTypeId" />
									</div>
								</div>
							</div>


						</div>

						<div class="row gx-0">
						@* 	<div class=" col-md-2 ">
								<button id="photo" type="button" class="btn btn-primary " onclick="document.getElementById('photoInput').click();">
									انتخاب عکس
								</button>
							</div> *@

							<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
								<span class="fw-bold fs-6"> محل پروسس اسناد  :</span> <span class="fs-6">@Model.ProcessingCityNameLocal </span>
								<input type="hidden" asp-for="SelectedProcessingCityId" />
							</div>
							<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
								<span class="fw-bold fs-6">پوسته خانه  :</span> <span class="fs-6">@Model.PostalAddressName </span>
								<input type="hidden" asp-for="PostalAddressId" />
							</div>
							<div class="col-sm-12 col-md-4 text-center custom-border  p-2">
								<span class="fw-bold fs-6">جزییات آدرس :</span> <span class="fs-6">@Model.AddressDetails </span>
								@Model.AddressDetails
								<input type="hidden" asp-for="AddressDetails" />
							</div>
						</div>


						<br />
						<div class="row">
							<div class="col-sm-12 col-md-6 text-center custom-border  p-2">
								<span class="fw-bold fs-6">نمبر تلفن اصلی:</span> <span class="fs-6">@Model.PrimaryPhone </span>
								<input type="hidden" asp-for="PrimaryPhone" />
							</div>
							<div class="col-sm-12 col-md-6 text-center custom-border  p-2">
								<span class="fw-bold fs-6">نمبر تلفن فرعی:</span> <span class="fs-6">	@Model.SecondaryPhone </span>
								<input type="hidden" asp-for="SecondaryPhone" />
							</div>
						</div>
						<br />
						@* مشخصات شرکت فقط اگر پاسپورت تجاری باشد *@
						@if (Model.PassportType?.Id == 2)
						{
							<div class="row">
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									@Model.Position
									<input type="hidden" asp-for="Position" />
								</div>
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									@Model.LicenseNumber
									<input type="hidden" asp-for="LicenseNumber" />
								</div>
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									@Model.TIN
									<input type="hidden" asp-for="TIN" />
								</div>
							</div>
							<div class="row">
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									formatDate(Model.IssueDate)
									<input type="hidden" asp-for="IssueDate" />
								</div>
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									formatDate(Model.ExpiryDate)
									<input type="hidden" asp-for="ExpiryDate" />>
								</div>
								<div class="col-sm-12 col-md-3 text-center custom-border  p-2">
									@Model.CompanyAddress
									<input type="hidden" asp-for="CompanyAddress" />
								</div>

							</div>
						}

					</section>
					<input type="hidden" id="photoInput" name="ProfilePhoto" accept="image/*" onchange="previewPhoto(event)" style="display:none;" />

					<button id="photo" type="button" class="btn btn-primary" onclick="document.getElementById('photoInput').click();">
						انتخاب عکس
					</button>
					<div class="mt-4 text-center">
						<a asp-action="EditFromPreview" class="btn btn-secondary mt-3">بازگشت به فرم</a>
						<button type="submit" class="btn btn-success mt-3">تایید و ذخیره اطلاعات</button>
					</div>
				</form>

			</div>
		</div>
	</div>


</body>
<script>
	function submitToPreview() {
		const form = document.getElementById('FormEdit');
		form.action = '/Registration/Create'; //
		form.submit();
	}
</script>
<script>
	function previewPhoto(event) {
		const input = event.target;
		if (input.files && input.files[0]) {
			const reader = new FileReader();

			reader.onload = function (e) {
				const preview = document.getElementById('photoPreview');
				preview.src = e.target.result;
				preview.style.display = 'block';
			};

			reader.readAsDataURL(input.files[0]);
		}
	}
</script>



